

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="ChengKhen">
  <meta name="keywords" content="">
  
    <meta name="description" content="第4章 串、数组和广义表字符串一般简称为串。串是一种特殊的线性表，其特殊性体现在数据元素是一个字符，也就是说，串是一种内容受限的线性表。 本章后两部分讨论的多维数组和广义表可以看成是线性表的一种扩充，即线性表的数据元素自身又是一个数据结构。高级语言都支持数组，但在高级语言中，重点介绍数组的使用，而本章重点介绍数组的内部实现，并介绍对于一些特殊的二维数组如何实现压缩存储。最后介绍广义表的基本概念和存">
<meta property="og:type" content="article">
<meta property="og:title" content="串、数组和广义表">
<meta property="og:url" content="http://example.com/2022/10/13/%E4%B8%B2%E3%80%81%E6%95%B0%E7%BB%84%E5%92%8C%E5%B9%BF%E4%B9%89%E8%A1%A8/index.html">
<meta property="og:site_name" content="Blog of ChengKhen">
<meta property="og:description" content="第4章 串、数组和广义表字符串一般简称为串。串是一种特殊的线性表，其特殊性体现在数据元素是一个字符，也就是说，串是一种内容受限的线性表。 本章后两部分讨论的多维数组和广义表可以看成是线性表的一种扩充，即线性表的数据元素自身又是一个数据结构。高级语言都支持数组，但在高级语言中，重点介绍数组的使用，而本章重点介绍数组的内部实现，并介绍对于一些特殊的二维数组如何实现压缩存储。最后介绍广义表的基本概念和存">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/chengkhen/picture_via_picco/202210131129962.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/chengkhen/picture_via_picco/202210131135247.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/chengkhen/picture_via_picco/202210131133589.png">
<meta property="article:published_time" content="2022-10-13T02:56:30.000Z">
<meta property="article:modified_time" content="2022-11-08T04:08:43.627Z">
<meta property="article:author" content="ChengKhen">
<meta property="article:tag" content="数据结构">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/chengkhen/picture_via_picco/202210131129962.png">
  
  
  
  <title>串、数组和广义表 - Blog of ChengKhen</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>ChengKhen</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="串、数组和广义表"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-10-13 10:56" pubdate>
          2022年10月13日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          7k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          59 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">串、数组和广义表</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="第4章-串、数组和广义表"><a href="#第4章-串、数组和广义表" class="headerlink" title="第4章 串、数组和广义表"></a>第4章 串、数组和广义表</h1><p>字符串一般简称为串。串是一种特殊的线性表，其特殊性体现在数据元素是一个字符，也就是说，<strong>串是一种内容受限的线性表</strong>。</p>
<p>本章后两部分讨论的多维数组和广义表可以看成是线性表的一种扩充，即线性表的数据元素自身又是一个数据结构。高级语言都支持数组，但在高级语言中，重点介绍数组的使用，而本章重点介绍数组的内部实现，并介绍对于一些特殊的二维数组如何实现压缩存储。最后介绍广义表的基本概念和存储结构。</p>
<h2 id="4-1-串的定义"><a href="#4-1-串的定义" class="headerlink" title="4.1 串的定义"></a>4.1 串的定义</h2><p><strong>串</strong>(string)(或字符串)是由零个或多个字符组成的有限序列，一般记为：s &#x3D; “a1a2 … an”。</p>
<p>其中，s是串的名，用双引号括起来的字符序列是串的值；ai(1≤i≤n)可以是字母、数字或其他字符；串中字符的数目n称为串的长度。零个字符的串称为<strong>空串</strong>(null string)，其长度为零。</p>
<blockquote>
<p>相关术语</p>
</blockquote>
<ul>
<li><p><strong>子串</strong>：一个串中任意个连续的字符组成的子序列(含空串)称为该串的子串。</p>
</li>
<li><p><strong>主串</strong>：包含子串的串相应地称为主串。</p>
</li>
<li><p><strong>字符位置</strong>：通常称字符在序列中的序号为该字符在串中的位置。</p>
</li>
<li><p><strong>子串的位置</strong>：子串的第一个字符在主串中的位置。</p>
</li>
<li><p><strong>空格串</strong>：一个或多个空格组成的串，与空串不同。</p>
</li>
<li><p><strong>串相等</strong>：当且仅当这两个串的值相等。也就是说，只有当两个串的长度相等，并且各个对应位置的字符都相等时才相等。</p>
</li>
<li><p>所有的空串都是相等的。</p>
</li>
</ul>
<h2 id="4-2-案例的引入"><a href="#4-2-案例的引入" class="headerlink" title="4.2 案例的引入"></a>4.2 案例的引入</h2><h2 id="4-3-串的类型定义、存储结构及其运算"><a href="#4-3-串的类型定义、存储结构及其运算" class="headerlink" title="4.3 串的类型定义、存储结构及其运算"></a>4.3 串的类型定义、存储结构及其运算</h2><h3 id="4-3-1-串的抽象类型定义"><a href="#4-3-1-串的抽象类型定义" class="headerlink" title="4.3.1 串的抽象类型定义"></a>4.3.1 串的抽象类型定义</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C++">ADT string&#123;<br>    数据对象：<br>    数据关系：<br>    基本操作：<br>        <span class="hljs-number">1.</span> <span class="hljs-built_in">StrAssign</span>(&amp;T, chars);    <span class="hljs-comment">// 串赋值</span><br>        <span class="hljs-number">2.</span> <span class="hljs-built_in">StrCompare</span>(S, T);        <span class="hljs-comment">// 串比较</span><br>        <span class="hljs-number">3.</span> <span class="hljs-built_in">StrLenght</span>(S);            <span class="hljs-comment">// 求串长</span><br>        <span class="hljs-number">4.</span> <span class="hljs-built_in">Concat</span>(&amp;T, S1, S2);      <span class="hljs-comment">// 串连结</span><br>        <span class="hljs-number">5.</span> <span class="hljs-built_in">SubString</span>(&amp;Sub, S, pos, len);    <span class="hljs-comment">// 求子串</span><br>        <span class="hljs-number">6.</span> <span class="hljs-built_in">StrCopy</span>(&amp;T, S);          <span class="hljs-comment">// 串拷贝</span><br>        <span class="hljs-number">7.</span> <span class="hljs-built_in">StrEmpty</span>(S);             <span class="hljs-comment">// 串判空</span><br>        <span class="hljs-number">8.</span> <span class="hljs-built_in">ClearString</span>(&amp;S);         <span class="hljs-comment">// 清空串</span><br>        <span class="hljs-number">9.</span> <span class="hljs-built_in">Index</span>(S, T, pos);        <span class="hljs-comment">// 子串的位置</span><br>        <span class="hljs-number">10.</span> <span class="hljs-built_in">Replace</span>(&amp;S, T, V);      <span class="hljs-comment">// 串替换</span><br>        <span class="hljs-number">11.</span> <span class="hljs-built_in">StrInsert</span>(&amp;S, pos, T);  <span class="hljs-comment">// 子串插入</span><br>        <span class="hljs-number">12.</span> <span class="hljs-built_in">StrDelete</span>(&amp;S, pos, len);    <span class="hljs-comment">// 子串删除</span><br>        <span class="hljs-number">13.</span> <span class="hljs-built_in">DestoryString</span>(&amp;S);      <span class="hljs-comment">// 串销毁</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="4-3-2-串的存储结构"><a href="#4-3-2-串的存储结构" class="headerlink" title="4.3.2 串的存储结构"></a>4.3.2 串的存储结构</h3><p>串中元素逻辑关系与线性表的相同，串可以采用与线性表相同的存储结构：<strong>顺序存储和链式存储</strong>。</p>
<ol>
<li><p>串的顺序存储结构</p>
<p> 类似于线性表的顺序存储结构，用一组地址连续的存储单元存储串值的字符序列。按照预定义的大小，为每个定义的串变量分配一个固定长度的存储区，则可用定长数组如下描述：</p>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXLEN 255</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SString</span>&#123;<br>    <span class="hljs-type">char</span> ch[MAXLEN+<span class="hljs-number">1</span>];<br>    <span class="hljs-type">int</span> length;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p> 其中，MAXLEN表示串的最大长度，ch是存储字符串的一维数组，每个分量存储一个字符，length表示字符串的当前长度。其中，后面算法描述当中所用到的顺序存储的字符串都是从下标为1的数组分量开始存储的，下标为0的分量闲置不用。</p>
</li>
<li><p>串的链式存储结构</p>
<p> 顺序串的插入和删除操作不方便，需要移动大量的字符。因此，可采用单链表方式存储串。由于串结构的特殊性——结构中的每个数据元素是一个字符，则在用链表存储串值时，存在一个“结点大小”的问题，即每个结点可以存放一个字符，也可以存放多个字符。</p>
</li>
</ol>
<ul>
<li>串值的链表存储方式<br><img src="https://cdn.jsdelivr.net/gh/chengkhen/picture_via_picco/202210131129962.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<p>如图(a)中所示，结点大小为4，图(b)，结点大小为1。</p>
<ul>
<li><p>串的链式存储结构——块链结构</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> CHUNKSIZE 80    <span class="hljs-comment">// 块的大小可自由定义</span></span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Chunk</span>&#123;<br>    <span class="hljs-type">char</span> ch[CHUNKSIZE];<br>    Chunk* next;<br>&#125;;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">LString</span>&#123;<br>    Chunk *head, *tail; <span class="hljs-comment">// 串的头指针和尾指针</span><br>    <span class="hljs-type">int</span> curlen; <span class="hljs-comment">// 串当前的长度</span><br>&#125;;  <span class="hljs-comment">// 字符串的块链结构</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-3-3-串的模式匹配算法"><a href="#4-3-3-串的模式匹配算法" class="headerlink" title="4.3.3 串的模式匹配算法"></a>4.3.3 串的模式匹配算法</h3><p>子串的定位运算通常称为串的<strong>模式匹配</strong>或<strong>串匹配</strong>。即算法目的：确定主串中所含子串（模式串）第一次出现得位置。</p>
<p>串的模式匹配设有两个字符串S和T，设S为主串，也称正文串；设T为子串，也称为模式。在主串S中查找与模式T相匹配的子串，如果匹配成功，确定相匹配的子串中的第一个字符在主串S中出现的位置。</p>
<p>算法种类包括有：BF算法、KMP算法。</p>
<ol>
<li><p>BF算法</p>
<p> Brute-Force简称BF算法，亦称简单匹配算法，采用穷举法的思路：从S的每一个字符开始依次与T的字符进行匹配。</p>
<blockquote>
<p>算法设计思想</p>
</blockquote>
<p> Index(S, T, pos)</p>
<ol>
<li><p>将主串的第pos个字符和模式串的第一个字符比较，</p>
<ul>
<li><p>若相等，继续逐个比较后续字符；</p>
</li>
<li><p>若不等，从主串的下一字符起，重新与模式串的第一个字符比较。</p>
</li>
</ul>
</li>
<li><p>直到主串的一个连续子串字符序列与模式串相等。返回值为S中与T匹配的子序列第一个字符的序号，即匹配成功。</p>
</li>
<li><p>否则，匹配失败，返回值0</p>
</li>
</ol>
<blockquote>
<p>算法4.1——BF算法描述</p>
</blockquote>
 <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Index_BF</span><span class="hljs-params">(SString S, SString T)</span></span>&#123;<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, j = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(i &lt;= S.lenght &amp;&amp; j &lt;= T.length)&#123;<br>        <span class="hljs-keyword">if</span>(S.ch[i] == T.ch[j])&#123;<br>            ++i;<br>            ++j;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-comment">// 主串、子串指针回溯重新开始下一次匹配</span><br>            i = i - j + <span class="hljs-number">2</span>;<br>            j = <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(j &gt;= T.lenght) <span class="hljs-keyword">return</span> i - T.lenght;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p> 当m远小于n时，算法复杂度为O(n*m)，平均复杂度为O(nm&#x2F;2)。</p>
</li>
<li><p>KMP算法</p>
<p> KMP算法，利用已经部分匹配的结果而加快模式串的滑动速度，且主串S的指针i<strong>不必回溯</strong>！可提速到O(n+m)</p>
<p> 重点在于定义<code>next[j]</code>函数，表明当模式中第j个字符与主串中相应字符失配时，在模式中需要重新和主串中该字符进行比较的字符的位置。</p>
</li>
</ol>
<ul>
<li><p>next_j<br>  <img src="https://cdn.jsdelivr.net/gh/chengkhen/picture_via_picco/202210131135247.png" srcset="/img/loading.gif" lazyload></p>
<blockquote>
<p>KMP算法</p>
</blockquote>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Index_KMP</span><span class="hljs-params">(SString S, SString T, <span class="hljs-type">int</span> pos)</span></span>&#123;<br>    <span class="hljs-type">int</span> i = pos, j = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(i &lt; S.length &amp;&amp; j &lt; T.length)&#123;<br>        <span class="hljs-keyword">if</span>(j == <span class="hljs-number">0</span> || S.ch[i] == T.ch[j])&#123;<br>            i++;<br>            j++;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            j = next[j];    <span class="hljs-comment">// i不变，j后退</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(j &gt; T.length) <span class="hljs-keyword">return</span> i - T.length;   <span class="hljs-comment">// 匹配成功</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">get_next</span><span class="hljs-params">(SString T, <span class="hljs-type">int</span>&amp; next[])</span></span>&#123;<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, next[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(i &lt; T.lenght)&#123;<br>        <span class="hljs-keyword">if</span>(j == <span class="hljs-number">0</span> || T.ch[i] == T.ch[j])&#123;<br>            ++i;<br>            next[i] = j;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            j = next[j];<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>next计算</p>
</blockquote>
<p>  Next值就是字符串s的最长相同前缀和后缀子字符串的长度。</p>
<p>  默认第一个和第二个字符的next值为0、1。那么从第三个开始依次执行如下操作：</p>
<p>  找到<strong>当前要求next字符的前一个</strong>（称为这个字符），以它为标准，找到其next对应下标的字符（称为现在字符），<strong>和这个字符做比较</strong>。若相等，那么当前字符的next值就位此字符next<strong>加1</strong>；若不等，继续找现在字符next所指的下一个字符，还是和之前的字符比较，直到找到第一个位置为止，那么next为1。</p>
<blockquote>
<p>nextVal计算</p>
</blockquote>
<p>  NextVal值就是字符串s的的最长相同且满足后续字符不同的前缀和后缀子字符串的长度。</p>
<p>  在求出next的值的基础上，求nextval的方法其实很简单。默认第一个nextval的值是0，第二个字符如果和第一个字符相等，那么它的nextval的值就为0，不等就为1。之后遵循如下方法：</p>
<p>  <strong>找到当前要求nextval值的字符，看它的[next值]下标所指向的字符是否和它相等，相等那么nextval为当前所指下标的nextval值，不相等nextval的值就为本身字符的next值。</strong></p>
<p>  对next进行修正，改进：</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++">    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">get_nextval</span><span class="hljs-params">(SString T, <span class="hljs-type">int</span>&amp; nextval[])</span></span>&#123;<br>    <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, nextval[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(i &lt; T.lenght)&#123;<br>        <span class="hljs-keyword">if</span>(j == <span class="hljs-number">0</span> || T.ch[i] == T.ch[j])&#123;<br>            ++i;<br>            ++j;<br>            <span class="hljs-keyword">if</span>(T.ch[i] != T.ch[j]) nextval[i] = j;<br>            <span class="hljs-keyword">else</span> nextval[i] = nextval[j];<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            j = nextval[j];<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="4-4-数组"><a href="#4-4-数组" class="headerlink" title="4.4 数组"></a>4.4 数组</h2><h3 id="4-4-1-数组定义和特点"><a href="#4-4-1-数组定义和特点" class="headerlink" title="4.4.1 数组定义和特点"></a>4.4.1 数组定义和特点</h3><p>数组：按一定格式排列起来的具有相同类型的数据元素的集合。</p>
<blockquote>
<p>一维数组</p>
</blockquote>
<p>一维数组：若线性表中的数据元素为非结构的简单元素，则称为一维数组。</p>
<p>一维数组的逻辑结构：线性结构。定长的线性表。</p>
<p>声明格式：<code>数据类型 变量名称[长度]</code>；</p>
<blockquote>
<p>二维数组</p>
</blockquote>
<p>二维数组：若一维数组中的数据元素又是一维数组结构，则称为二维数组。</p>
<p>二维数组的逻辑结构：</p>
<ul>
<li><p>非线性结构：每一个数据元素既在一个行表中，又在一个列表中。</p>
</li>
<li><p>线性结构定长的线性表：该线性表的每个数据元素也是一个定长的线性表。</p>
</li>
</ul>
<p>声明格式：<code>数据类型 变量名称[行数][列数]</code>；</p>
<blockquote>
<p>多维数组</p>
</blockquote>
<p>三维数组：若二维数组中的元素又是一个一维数组，则称作三维数组。</p>
<p>n维数组：若n-1维数组中的元素又是一个一维数组结构，则称作n维数组。</p>
<p>结论：线性表结构是数组结构的一个特例，而数组结构又是线性表结构的扩展。</p>
<p>数组特点：<strong>结构固定</strong>，定义后，维数和维界不再改变。</p>
<p>数组基本操作：除了结构的初始化和销毁之外，只有<strong>取元素</strong>和<strong>修改元素值</strong>的操作。</p>
<h3 id="4-4-2-数组的抽象数据类型定义"><a href="#4-4-2-数组的抽象数据类型定义" class="headerlink" title="4.4.2 数组的抽象数据类型定义"></a>4.4.2 数组的抽象数据类型定义</h3><p>以二维数组为例，二维数组的抽象数据类型的数据对象和数据关系的定义：</p>
<p>n&#x3D;2（维数为2，二维数组）</p>
<p>b1：第1维长度（行数）</p>
<p>b2：第2维长度（列数）</p>
<p>aj1j2：第1维下标为j1，第2维下标为j2</p>
<h3 id="4-4-3-数组的顺序存储"><a href="#4-4-3-数组的顺序存储" class="headerlink" title="4.4.3 数组的顺序存储"></a>4.4.3 数组的顺序存储</h3><p>在数组存储过程中，数组可以是多维的，但存储数据元素的内存单元地址是一维的，因此，在存储数组结构之前，需要解决将多维关系映射到一维关系的问题。</p>
<p>针对二维数组，可以以行序为主序(C、PASCAL、JAVA、Basic)；也可以是列序为主序(FORTRAN)。</p>
<ul>
<li>n维数组元素地址<br> <img src="https://cdn.jsdelivr.net/gh/chengkhen/picture_via_picco/202210131133589.png" srcset="/img/loading.gif" lazyload></li>
</ul>
<h3 id="4-4-4-特殊矩阵的压缩存储"><a href="#4-4-4-特殊矩阵的压缩存储" class="headerlink" title="4.4.4 特殊矩阵的压缩存储"></a>4.4.4 特殊矩阵的压缩存储</h3><p>矩阵的常规存储：将矩阵描述为一个二维数组。</p>
<p>矩阵的常规存储的特点：可以对其元素进行随机存取；矩阵运算非常简单；存储的密度为1。</p>
<p>但是对于不适宜常规存储的矩阵：值相同的元素很多且呈某种规律分布；零元素多。特殊矩阵主要包括<strong>对称矩阵、三角矩阵和对角矩阵</strong>等，以及稀疏矩阵：矩阵中非零元素的个数较少（一般小于5%）</p>
<p>因此可以采用矩阵压缩存储：为多个相同的非零元素只分配一个存储空间，对零元素不分配空间。</p>
<ol>
<li><p>对称矩阵：</p>
<p> 特点：在nxn的矩阵a中，满足aij &#x3D; aji</p>
<p> 存储方法：只存储下（或者上）三角（包括主对角线）的数据元素。共占用n(n+1)&#x2F;2个元素空间。</p>
<p> 对称矩阵可以以行序为主序将元素存放在一个一维数组<code>sa[n(n+1)/2]</code>中，其中aij存放在(i*(i-1)&#x2F;2)+(j-1)位置。</p>
</li>
<li><p>三角矩阵</p>
<p> 特点：特点对角线以下（或者以上）的数据元素（不包括对角线全部为常数c。</p>
<p> 存储方法：重复元素c共享一个元素存储空间，共占用n(n+1)&#x2F;2+1个元素空间。</p>
</li>
<li><p>对角矩阵</p>
<p> 特点：在nxn的方阵中，所有非零元素都集中在以主对角线为中心的带状区域中，区域外的值全为0，则称为对角矩阵。常见的有三对角矩阵、五对角矩阵、七对角矩阵等。</p>
<p> 存储方法：可按某个原则（或以行为主，或以对角线的顺序）将其压缩存储到一维数组上。</p>
</li>
<li><p>稀疏矩阵存储</p>
<p> 稀疏矩阵：在mxn的矩阵中，有超过95%的元素位零，非零元素仅不到5%。</p>
<ul>
<li><p>三元组法：</p>
<p>  三元组顺序表，又称为<strong>有序的双下标法</strong></p>
<p>  压缩存储原则：可通过三元组法来表示稀疏矩阵，三元组：(i, j, aij)。即存各非零元素的值、行列位置和矩阵的行列数。</p>
<p>  其中，为更为可靠描述，通常会加上总体的描述信息：总行数、总列数、非零元素总个数。</p>
<p>  优点：非零元在表中按行序有序存储，因此<strong>便于进行依行顺序处理的矩阵运算</strong>。</p>
<p>  缺点：<strong>不能随机存取</strong>。若按行号存取某一行中的非零元，则需从头开始进行查找。</p>
</li>
<li><p>十字链表法</p>
<p>  稀疏矩阵的链式存储结构：</p>
<p>  优点：它能够<strong>灵活地插入</strong>因运算而产生的新的非零元素，<strong>删除</strong>因运算而产生的新的零元素，实现矩阵的各种运算。</p>
<p>  在十字链表中，矩阵的每一个非零元素用一个结点表示，该结点除了(row, col, value)以外，还要有两个域：</p>
<ul>
<li><p>right：用于链接同一行中的下一个非零元素；</p>
</li>
<li><p>down：用以链接同一列中的下一个非零元素。</p>
</li>
</ul>
<p>  同时，为了方便元素查找，可为每一行、每一列添加头指针结点。</p>
</li>
</ul>
</li>
</ol>
<h2 id="4-5-广义表"><a href="#4-5-广义表" class="headerlink" title="4.5 广义表"></a>4.5 广义表</h2><h3 id="4-5-1-广义表的定义"><a href="#4-5-1-广义表的定义" class="headerlink" title="4.5.1 广义表的定义"></a>4.5.1 广义表的定义</h3><p>广义表是线性表的推广，也称为列表。广泛地用于人工智能等领域的表处理语言LISP语言，把广义表作为基本的数据结构，就连程序也表示为一系列的广义表。</p>
<p>广义表(又称列表Lists)是n≥0个元素a0, a1, a2, …, an-1的有限序列，其中每一个ai可以是单个元素，也可以是广义表，分别称为广义表LS的原子和子表。</p>
<p>广义表通常记作：LS&#x3D;(a1, a2, …, an)，其中：LS为表名，n为表的长度，每一个元素ai为表的元素。</p>
<p>习惯上，一般用大写字母表示广义表，小写字母表示原子。</p>
<p>表头：若LS非空，则第一个元素a1就是表头，记作head(LS)&#x3D;a1。其中，表头可以是原子，也可以是子表。</p>
<p>表尾：除表头外的其他元素组成的表。记作tail(LS) &#x3D; (a2,…,an)。其中表尾不是一个元素，而实一个子表。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++">A = ()  <span class="hljs-comment">// 空表，长度为零</span><br>B = (())    <span class="hljs-comment">// 长度为1，表头、表尾均为()</span><br>C = (a, (b, c)) <span class="hljs-comment">// 长度为2，由原子a和子表(b,c)构成，表头为a；表尾为((b, c))</span><br>D = (x, y, z)   <span class="hljs-comment">// 长度为3，每一项都是原子，表头为x，表尾为(y, z)</span><br>E = (C, D)  <span class="hljs-comment">// 长度为2，每一项都是子表，表头为C，表尾为(D)</span><br>F = (a, F)  <span class="hljs-comment">// 长度为2，第一项为原子，第二项为本身。表头为a；表尾为(F)</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>广义表的性质</p>
</blockquote>
<ol>
<li><p>广义表中的数据元素有相对次序；一个直接前驱和一个直接后继</p>
</li>
<li><p><strong>广义表的长度</strong>:定义为最外层所包含元素的个数；</p>
</li>
<li><p><strong>广义表的深度</strong>:定义为该广义表展开后所含括号的重数；其中，原子的深度为0，空表的深度为1。</p>
</li>
<li><p>广义表可以为其他广义表共享；</p>
</li>
<li><p>广义表可以是一个递归的表，即广义表也可以是其本身的一个子表。</p>
</li>
<li><p>广义表是一个多层次的结构，可以用图形象地表示。</p>
</li>
</ol>
<blockquote>
<p>广义表与线性表的区别</p>
</blockquote>
<p><strong>广义表可以看成是线性表的推广，线性表是广义表的特例</strong>。</p>
<p>广义表的结构相当灵活，在某种前提下，它可以兼容线性表、数组、树和有向图等各种常用的数据结构。</p>
<p><strong>当二维数组的每行（或每列）作为子表处理时，二维数组即为一个广义表</strong>。</p>
<p>另外，树和有向图也可以用广义表来表示。由于广义表不仅集中了线性表、数组、树和有向图等常见数据结构的特点，而且可有效地利用存储空间，因此在计算机的许多应用领域都有成功使用广义表的实例。</p>
<blockquote>
<p>广义表的运算</p>
</blockquote>
<ol>
<li><p>取表头GetHead(LS): 取出的表头为非空广义表的第一个元素，它可以是一个单原子，也可以是一个子表。</p>
</li>
<li><p>取表尾GetTail(LS): 取出的表尾为除去表头之外，由其余元素构成的表。即<strong>表尾一定是一个广义表</strong>。</p>
</li>
</ol>
<h3 id="4-5-2-广义表的存储"><a href="#4-5-2-广义表的存储" class="headerlink" title="4.5.2 广义表的存储"></a>4.5.2 广义表的存储</h3><p>由 于广义表中的数据元素可以有不同的结构（或是原子，或是列表），因此难以用顺序存储结构表示，通常采用链式存储结构。常用的链式存储结构有两种，<strong>头尾链表的存储结构</strong>和<strong>扩展线性链表的存储结构</strong>。</p>
<h2 id="4-6-案例分析与实现"><a href="#4-6-案例分析与实现" class="headerlink" title="4.6 案例分析与实现"></a>4.6 案例分析与实现</h2><h2 id="4-7-习题"><a href="#4-7-习题" class="headerlink" title="4.7 习题"></a>4.7 习题</h2><blockquote>
<p>算法设计题</p>
</blockquote>
<ol>
<li><p>写一个算法统计在输入字符串中各个不同字符出现的频度并将结果存入文件（字符串中的合法字符为A<del>Z这26个字母和0</del>9这10个数字）。</p>
<p> <a target="_blank" rel="noopener" href="https://github.com/Vuean/DataStructure-Algorithmics/blob/main/Chapter4%20String/Chapter4Exe/AlgoDesignExe1.cpp">算法设计题1</a></p>
</li>
<li><p>写一个递归算法来实现字符串逆序存储，要求不另设串存储空间。</p>
<p> <a target="_blank" rel="noopener" href="https://github.com/Vuean/DataStructure-Algorithmics/blob/main/Chapter4%20String/Chapter4Exe/AlgoDesignExe2.cpp">算法设计题2</a></p>
</li>
<li><p>编写算法，实现下面函数的功能。函数<code>void insert(char*s, char* t, int pos)</code>将字符串t插入到字符串s中，插入位置为pos。假设分配给字符串s的空间足够让字符串t插入。（说明：不得使用任何库函数）</p>
<p> <a target="_blank" rel="noopener" href="https://github.com/Vuean/DataStructure-Algorithmics/blob/main/Chapter4%20String/Chapter4Exe/AlgoDesignExe3.cpp">算法设计题3</a></p>
</li>
<li><p>已知字符串S1中存放一段英文，写出算法format(s1, s2, s3, n)，将其按给定的长度n格式化成两端对齐的字符串S2，其多余的字符送S3。</p>
<p> <a target="_blank" rel="noopener" href="https://github.com/Vuean/DataStructure-Algorithmics/blob/main/Chapter4%20String/Chapter4Exe/AlgoDesignExe4.cpp">算法设计题4</a></p>
</li>
<li><p>设二维数组a[1…m, l…n]含有m x n个整数。</p>
<ol>
<li><p>写一个算法判断a中所有元素是否互不相同？输出相关信息(yes&#x2F;no);</p>
</li>
<li><p>试分析算法的时间复杂度。</p>
</li>
</ol>
<p> <a target="_blank" rel="noopener" href="https://github.com/Vuean/DataStructure-Algorithmics/blob/main/Chapter4%20String/Chapter4Exe/AlgoDesignExe5.cpp">算法设计题5</a></p>
</li>
<li><p>设任意n个整数存放于数组A[1..n]中，试编写算法，将所有正数排在所有负数前面(要求：算法时间复杂度为O(n))。</p>
<p> <a target="_blank" rel="noopener" href="https://github.com/Vuean/DataStructure-Algorithmics/blob/main/Chapter4%20String/Chapter4Exe/AlgoDesignExe6.cpp">算法设计题6</a></p>
</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%8E%8B%E5%8D%93/" class="category-chain-item">数据结构王卓</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">#数据结构</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>串、数组和广义表</div>
      <div>http://example.com/2022/10/13/串、数组和广义表/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>ChengKhen</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年10月13日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/10/13/%E6%A0%91%E5%92%8C%E4%BA%8C%E5%8F%89%E6%A0%91%E2%80%94%E2%80%94%E7%8E%8B%E5%8D%93/" title="树和二叉树——王卓">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">树和二叉树——王卓</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/10/13/%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97%E2%80%94%E2%80%94%E7%8E%8B%E5%8D%93/" title="栈和队列——王卓">
                        <span class="hidden-mobile">栈和队列——王卓</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
